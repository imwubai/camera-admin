(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aa5c193"],{"0ef9":function(e,t,a){"use strict";var s=a("f1f1"),r=a.n(s);r.a},"7ea7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",staticClass:"roadposition_form",attrs:{model:e.form,rules:e.formRules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{disabled:e.isUpdate,placeholder:"支持中文，英文，数字，以及三种类型组合",maxlength:"20"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属派出所"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},model:{value:e.form.psid,callback:function(t){e.$set(e.form,"psid",t)},expression:"form.psid"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"手机号",prop:"telephone"}},[a("el-input",{attrs:{placeholder:"请输入手机号",maxlength:"11"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入密码",maxlength:"20"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",loading:e.saveLoading},on:{click:e.doSubmit}},[e._v("保存")])],1)],1)],1)],1)],1)},r=[],o=a("5530"),n=a("b775"),l={data:function(){var e=function(e,t,a){var s=/^[\u4E00-\u9FA5A-Za-z0-9_]+$/;t?s.test(t)?a():a(new Error("输入不合规范")):a(new Error("请输入必填项"))},t=function(e,t,a){var s=/^1\d{10}$/;t&&(s.test(t)?a():a(new Error("手机号输入不合规范")))};return{saveLoading:!1,isUpdate:!1,id:"",formRules:{username:[{required:!0,trigger:"change",validator:e}],telephone:[{trigger:"change",validator:t}]},statusOptions:[{value:0,label:"全部"},{value:1,label:"启用"},{value:2,label:"禁用"}],form:{username:"",psid:"",telephone:"",password:""}}},mounted:function(){var e=this,t=this.$route.query,a=t.username,s=t.id;a&&(this.isUpdate=!0,this.id=s,n["a"].post("/api/users/search",{pageNo:1,pageSize:10,type:2,username:a}).then((function(t){var a=t.data.data[0],s=a.username,r=a.telephone,o=a.psid;Object.assign(e.form,{username:s,telephone:r,psid:o})})).catch((function(t){e.$message({message:"获取数据异常",type:"error"})})))},methods:{doSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.saveLoading=!0,e.isUpdate?n["a"].put("/api/users",Object(o["a"])({id:e.id},e.form)).then((function(t){e.saveLoading=!1,e.$message({message:"操作成功",type:"success",duration:1e3,onClose:function(){location.reload()}})})).catch((function(t){e.saveLoading=!1,e.$message({message:"操作失败",type:"error"})})):n["a"].post("/api/user",Object(o["a"])(Object(o["a"])({},e.form),{},{type:2})).then((function(t){e.saveLoading=!1,e.$message({message:"操作成功",type:"success",duration:1e3,onClose:function(){location.reload()}})})).catch((function(t){e.saveLoading=!1,e.$message({message:"操作失败",type:"error"})})))}))}}},i=l,u=(a("0ef9"),a("2877")),c=Object(u["a"])(i,s,r,!1,null,"21f0ecc7",null);t["default"]=c.exports},f1f1:function(e,t,a){}}]);