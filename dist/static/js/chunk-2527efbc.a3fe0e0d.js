(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2527efbc"],{"0a87":function(e,a,r){},c721:function(e,a,r){"use strict";var o=r("0a87"),t=r.n(o);t.a},f0aa:function(e,a,r){"use strict";r.r(a);var o=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"app-container"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"160px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"请选择分配模式"}},[r("el-radio-group",{attrs:{size:"medium"},on:{change:e.radioChange},model:{value:e.form.radio,callback:function(a){e.$set(e.form,"radio",a)},expression:"form.radio"}},[r("el-radio",{attrs:{label:"1",border:""}},[e._v("DHCP手动分配")])],1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==e.form.radio,expression:"form.radio == '1'"}],attrs:{label:"当前IP地址"}},[r("el-input",{attrs:{disabled:""},model:{value:e.form.oldip,callback:function(a){e.$set(e.form,"oldip",a)},expression:"form.oldip"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==e.form.radio,expression:"form.radio == '1'"}],attrs:{label:"设置新的IP地址",prop:"ip"}},[r("el-input",{attrs:{maxlength:"50"},model:{value:e.form.ip,callback:function(a){e.$set(e.form,"ip",a)},expression:"form.ip"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==e.form.radio,expression:"form.radio == '1'"}],attrs:{label:"子网掩码长度",prop:"mask"}},[r("el-input",{attrs:{maxlength:"50",placeholder:"24"},model:{value:e.form.mask,callback:function(a){e.$set(e.form,"mask",a)},expression:"form.mask"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==e.form.radio,expression:"form.radio == '1'"}],attrs:{label:"默认网关",prop:"gateway"}},[r("el-input",{attrs:{maxlength:"50"},model:{value:e.form.gateway,callback:function(a){e.$set(e.form,"gateway",a)},expression:"form.gateway"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.saveLoading},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)],1)],1)},t=[],i=r("b775"),s={data:function(){var e=function(e,a,r){a?r():r(new Error("请输入必填项"))};return{formRules:{ip:[{required:!0,trigger:"blur",validator:e}],mask:[{required:!0,trigger:"blur",validator:e}],gateway:[{required:!0,trigger:"blur",validator:e}]},saveLoading:!1,form:{radio:"1",oldip:"",ip:"",mask:"",gateway:""}}},mounted:function(){this.getDefaultData()},methods:{getDefaultData:function(){var e=this;i["a"].post("/get_ip").then((function(a){e.form.oldip=a.data.ip})).catch((function(a){e.$message({message:"获取本机IP服务异常",type:"error"})}))},radioChange:function(e){},onSubmit:function(){var e=this;this.$refs.form.validate((function(a){a&&(e.saveLoading=!0,i["a"].post("/set_ip",{dhcp:0,dns:"8.8.8.8",gateway:e.form.gateway,ip:e.form.ip,mask:1*e.form.mask,port:80}).then((function(a){e.saveLoading=!1,e.form.oldip=e.form.ip,e.$message({message:"设置成功",type:"success"})})).catch((function(a){e.saveLoading=!1,e.$message({message:"设置IP服务异常",type:"error"})})))}))}}},n=s,l=(r("c721"),r("2877")),m=Object(l["a"])(n,o,t,!1,null,"0d3edefc",null);a["default"]=m.exports}}]);