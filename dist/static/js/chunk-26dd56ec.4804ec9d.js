(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26dd56ec"],{3903:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",staticClass:"roadposition_form",attrs:{model:t.form,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.roadname,callback:function(e){t.$set(t.form,"roadname",e)},expression:"form.roadname"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所属派出所"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.roadposition,callback:function(e){t.$set(t.form,"roadposition",e)},expression:"form.roadposition"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.road,callback:function(e){t.$set(t.form,"road",e)},expression:"form.road"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",loading:t.listLoading},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),a("el-row",{staticClass:"btns_box"},[a("el-button",{on:{click:t.handleClickAdd}},[t._v("新建")]),a("el-button",{on:{click:t.handleClickUpdate}},[t._v("修改")]),a("el-button",{on:{click:t.handleClickStart}},[t._v("启动")]),a("el-button",{on:{click:t.handleClickStop}},[t._v("禁用")]),a("el-button",{on:{click:function(e){return t.handleClick("service")}}},[t._v("删除")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"操作",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"selectRow-radio",attrs:{label:e.row.id,value:t.selectedRowKey},on:{change:function(a){return t.handleSelectRow(e.row.id)}}})]}}])}),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),a("el-table-column",{attrs:{prop:"所属派出所",label:"psid"}}),a("el-table-column",{attrs:{prop:"telephone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(1===e.row.status?"禁用":"启用")+" ")]}}])})],1),a("div",{staticClass:"table_pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.paginationTotal,"page-size":10,"current-page":t.currentPage},on:{"current-change":t.currentChange}})],1)],1)},s=[],o=a("5530"),n=a("b775"),r={data:function(){return{listLoading:!1,currentPage:1,paginationTotal:0,selectedRowKey:null,statusOptions:[{value:0,label:"全部"},{value:2,label:"启用"},{value:1,label:"禁用"}],tableData:[],form:{roadposition:"",road:"",status:0},searchData:{}}},mounted:function(){this.getTableData(1)},methods:{handleSelectRow:function(t){this.selectedRowKey=t},getTableData:function(t){var e=this;this.listLoading=!0,n["a"].post("/api/users/search",Object(o["a"])({pageNo:t,pageSize:10,type:2},this.searchData)).then((function(t){e.listLoading=!1,e.tableData=t.data.data,e.paginationTotal=t.data.totalCount})).catch((function(t){e.listLoading=!1,e.$message({message:"获取数据异常",type:"error"})}))},currentChange:function(t){this.getTableData(t)},onSearch:function(){this.searchData=this.form,this.getTableData(1)},handleClickAdd:function(){this.$router.push({path:"/user/add"})},handleClickUpdate:function(){this.selectedRowKey?this.$router.push({path:"/user/add",query:{id:this.selectedRowKey}}):this.$message({message:"请先选择一条数据",type:"error"})},handleClickStart:function(){var t=this;this.selectedRowKey?n["a"].put("/api/users",{id:this.selectedRowKey,status:2}).then((function(e){t.$message.success("操作成功"),t.currentPage=1,t.getTableData(1)})).catch((function(){t.$message.error("操作失败")})):this.$message({message:"请先选择一条数据",type:"error"})},handleClickStop:function(){var t=this;this.selectedRowKey?n["a"].put("/api/users",{id:this.selectedRowKey,status:1}).then((function(e){t.$message.success("操作成功"),t.currentPage=1,t.getTableData(1)})).catch((function(){t.$message.error("操作失败")})):this.$message({message:"请先选择一条数据",type:"error"})}}},i=r,c=(a("d4f7"),a("b3ea"),a("2877")),u=Object(c["a"])(i,l,s,!1,null,"41226ae7",null);e["default"]=u.exports},"75d6":function(t,e,a){},"974e":function(t,e,a){},b3ea:function(t,e,a){"use strict";var l=a("974e"),s=a.n(l);s.a},d4f7:function(t,e,a){"use strict";var l=a("75d6"),s=a.n(l);s.a}}]);